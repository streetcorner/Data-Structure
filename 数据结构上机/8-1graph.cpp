/*----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File name: 08graph.cpp
Abstract:
Create a graph by adjacency list and display it.
Version: 1.0
Last modify:2016.10.30
Copyright(c) 2016 Wang Yumeng
All rights reserved.


----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
#include<stdio.h>
#include<stdlib.h>
#include<iostream>

//图的邻接表存储表示
#define MAX_VERTEX_NUM 20
using namespace std;

//邻接表表示
typedef char VertexData; //顶点数据类型
typedef int EdgeData;              //边上权值类型

typedef struct node { //边结点
    int dest;                 //目标顶点下标
    EdgeData cost;	         //边上的权值
    struct node * link;      //下一边链接指针
} EdgeNode;
typedef struct { //顶点结点
    VertexData data;       //顶点数据域
    EdgeNode *firstAdj;   //边链表 头指针
} VertexNode;
typedef struct { //图的邻接表
    VertexNode VexList[MAX_VERTEX_NUM]; //邻接表
    int n, e;      //图中当前的顶点个数与边数
} AdjGraph;

//邻接表的构造算法(无向图)
void CreateGraph (AdjGraph &G) {
    int tail,head,weight;
    printf("Please input the number of vertex and edges:\n");
    scanf ("%d %d", &G.n, &G.e);
//输入顶点个数和边数
    //cout<<G.n<<endl;
    for ( int i = 0; i < G.n; i++) {
        printf("Please input the data of the %dth vertex:\n",i);
        scanf("%d",&G.VexList[i].data ); //输入顶点信息
        G.VexList[i].firstAdj = NULL;
    }
    for (int i = 0; i < G.e; i++) {         //逐条边输入
        printf("Please input the[tail head weight] of the %dth edge:\n",i);
        scanf ("%d %d %d",&tail,&head,&weight );
        EdgeNode *p = new EdgeNode;
        p->dest = head;   p->cost = weight;
        //链入第 tail 号链表的前端
        p->link = G.VexList[tail].firstAdj;//头插
        G.VexList[tail].firstAdj = p;

		p = new EdgeNode;//分配空间
        p->dest = tail;   p->cost = weight;
        //链入第 head 号链表的前端
        p->link = G.VexList[head].firstAdj;//头插
        G.VexList[head].firstAdj = p;
    }
}

void display(AdjGraph &g){
    printf("The adjacent list is as follows:\n");
    for(int i = 0; i < g.n; i++){
        EdgeNode *p = new EdgeNode;
        p = g.VexList[i].firstAdj;//头结点
        //printf("vertex data:%d \n",i);
        printf("vertex data:%d  dest:%d cost:%d ",g.VexList[i].data,p->dest,p->cost);
        while(p->link!=NULL){
            p=p->link;
            printf("  dest:%d cost:%d ",p->dest,p->cost);
        }
        printf("\n");
    }
}
int main(){
    AdjGraph g;
    CreateGraph(g);
    //cout<<g.n<<" "<<g.e<<endl;
    display(g);

}



