/*----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File name: 10-3prim.cpp
Abstract:
prim algorithm.
Version: 1.0
Last modify:2016.12.9
Copyright(c) 2016 Wang Yumeng
All rights reserved.

unfinished:
希尔、快排
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
#include<stdio.h>
#include<stdlib.h>
#include<iostream>

using namespace std;

#define MaxValue 100
const int NumEdges = 50;	     //边条数
const int NumVertices = 10;    //顶点个数
typedef char VertexData;        //顶点数据类型
typedef int EdgeData;              //边上权值类型
typedef struct {
    VertexData vexList[NumVertices];   //顶点表
    EdgeData Edge[NumVertices][NumVertices];
                //邻接矩阵, 可视为边之间的关系
    int n, e;    //图中当前的顶点个数与边数
} MTGraph;
typedef struct{
    int tail,head;
    EdgeData cost;
}MST;

void Creat_tree(MTGraph &G)
{
    printf("输入图中顶点的个数与边的个数：\n");
    scanf("%d%d",&G.n,&G.e);
    printf("请输入点的信息,ex:0 1 2 3...\n");
    for(int j=0; j<G.n; j++)
        scanf("%s",&G.vexList[j]);
    printf("输入边的信息,ex：tail top weight\n");
    for(int i=0; i<G.n; i++)
        for(int j=0; j<G.n; j++)
            G.Edge[i][j]=MaxValue ;
    int x,y,w;
    for(int k=0; k<G.e; k++)
    {
        scanf("%d%d%d",&x,&y,&w);
        G.Edge[x][y]=w;
        G.Edge[y][x]=w;
    }
}

void display(MTGraph &G){
    printf("The adjacent matrix is as follows:(The blank area was filled with the max vertex number)\n");
    for(int i=0; i<G.n; i++){
        for(int j=0; j<G.n; j++){
            if(G.Edge[i][j]<10)
                printf("%d    ",G.Edge[i][j]);
            else if(G.Edge[i][j]/10<10)
                printf("%d   ",G.Edge[i][j]);
            else
                printf("%d  ",G.Edge[i][j]);
        }
        printf("\n");
    }
}

//利用普里姆算法建立最小生成树
void Prim ( MTGraph G, MST T[], int u ) {//u is the start node
    int * lowcost = new int[NumVertices];
    int * nearvex = new int[NumVertices];
    //initialize array
    for ( int i = 0; i < G.n; i++ ) {
        lowcost[i] = G.Edge[u][i];   //Vu到各点代价
        nearvex[i] = u;                 //及最短带权路径
       // printf("\nEdge%d",G.Edge[u][i]);
        //printf("\nlowcost nearvex:\n%d ",lowcost[i]);
       // printf("\n%d ",nearvex[i]);
    }
    nearvex[u] = -1;        //加到生成树顶点集合
    int k = 0;//存放最小生成树结点的变量
    for (int i = 0; i < G.n; i++ )//循环n-1次, 加入n-1条边
        if ( i != u ){
          EdgeData minv = MaxValue;  int v = 0;//v记录当前权值最小的结点
        for ( int j = 0; j < G.n; j++ )
              if ( nearvex[j] != -1 && lowcost[j] < minv )    // =-1不参选
              { v = j;  minv = lowcost[j]; }
         //求生成树,外顶点到生成树内顶点具有最小权值的边, v是当前具最小权值的边
        if ( v ) {     //v=0表示再也找不到要求顶点
           T[k].tail = nearvex[v]; //选边加入生成树
           T[k].head = v;
           T[k++].cost = lowcost[v];
           nearvex[v] = -1;  //该边加入生成树标记
           //加入最小权值点v之后挨个更新每个结点中与v相邻结点的最小权值和临近点
           for ( int j = 0; j < G.n; j++ )
              if ( nearvex[j] != -1 &&G.Edge[v][j] < lowcost[j] ) {
                 lowcost[j] = G.Edge[v][j];     //修改
                 nearvex[j] = v;
              }
        }
    }//循环n-1次, 加入n-1条边
}

void display_prim(MTGraph G,MST T[]){
    printf("\nThe result of prim is:\n");
    for(int i=0;i<G.n-1;i++){
        printf("(%d,%d,%d)\n",T[i].tail,T[i].head,T[i].cost);
    }
}

int main(){
    MTGraph G;
    MST T[NumVertices];
    Creat_tree(G);
    display(G);
    Prim(G,T,0);
    display_prim(G,T);
}
/*----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test parameters:
6 10
1 2 3 4 5 6
0 1 20
0 4 10
3 4 18
1 3 6
0 5 9
4 5 10
3 5 14
1 5 11
1 2 5
2 3 6

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/


