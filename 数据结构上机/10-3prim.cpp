/*----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File name: 10-3prim.cpp
Abstract:
prim algorithm.
Version: 1.0
Last modify:2016.12.9
Copyright(c) 2016 Wang Yumeng
All rights reserved.

unfinished:
Ï£¶û¡¢¿ìÅÅ
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/
#include<stdio.h>
#include<stdlib.h>
#include<iostream>

using namespace std;

#define MaxValue 100
const int NumEdges = 50;	     //±ßÌõÊý
const int NumVertices = 10;    //¶¥µã¸öÊý
typedef char VertexData;        //¶¥µãÊý¾ÝÀàÐÍ
typedef int EdgeData;              //±ßÉÏÈ¨ÖµÀàÐÍ
typedef struct {
    VertexData vexList[NumVertices];   //¶¥µã±í
    EdgeData Edge[NumVertices][NumVertices];
                //ÁÚ½Ó¾ØÕó, ¿ÉÊÓÎª±ßÖ®¼äµÄ¹ØÏµ
    int n, e;    //Í¼ÖÐµ±Ç°µÄ¶¥µã¸öÊýÓë±ßÊý
} MTGraph;
typedef struct{
    int tail,head;
    EdgeData cost;
}MST;

void Creat_tree(MTGraph &G)
{
    printf("ÊäÈëÍ¼ÖÐ¶¥µãµÄ¸öÊýÓë±ßµÄ¸öÊý£º\n");
    scanf("%d%d",&G.n,&G.e);
    printf("ÇëÊäÈëµãµÄÐÅÏ¢,ex:0 1 2 3...\n");
    for(int j=0; j<G.n; j++)
        scanf("%s",&G.vexList[j]);
    printf("ÊäÈë±ßµÄÐÅÏ¢,ex£ºtail top weight\n");
    for(int i=0; i<G.n; i++)
        for(int j=0; j<G.n; j++)
            G.Edge[i][j]=MaxValue ;
    int x,y,w;
    for(int k=0; k<G.e; k++)
    {
        scanf("%d%d%d",&x,&y,&w);
        G.Edge[x][y]=w;
        G.Edge[y][x]=w;
    }
}

void display(MTGraph &G){
    printf("The adjacent matrix is as follows:(The blank area was filled with the max vertex number)\n");
    for(int i=0; i<G.n; i++){
        for(int j=0; j<G.n; j++){
            if(G.Edge[i][j]<10)
                printf("%d    ",G.Edge[i][j]);
            else if(G.Edge[i][j]/10<10)
                printf("%d   ",G.Edge[i][j]);
            else
                printf("%d  ",G.Edge[i][j]);
        }
        printf("\n");
    }
}

//ÀûÓÃÆÕÀïÄ·Ëã·¨½¨Á¢×îÐ¡Éú³ÉÊ÷
void Prim ( MTGraph G, MST T[], int u ) {//u is the start node
    int * lowcost = new int[NumVertices];
    int * nearvex = new int[NumVertices];
    //initialize array
    for ( int i = 0; i < G.n; i++ ) {
        lowcost[i] = G.Edge[u][i];   //Vuµ½¸÷µã´ú¼Û
        nearvex[i] = u;                 //¼°×î¶Ì´øÈ¨Â·¾¶
       // printf("\nEdge%d",G.Edge[u][i]);
        //printf("\nlowcost nearvex:\n%d ",lowcost[i]);
       // printf("\n%d ",nearvex[i]);
    }
    nearvex[u] = -1;        //¼Óµ½Éú³ÉÊ÷¶¥µã¼¯ºÏ
    int k = 0;//´æ·Å×îÐ¡Éú³ÉÊ÷½áµãµÄ±äÁ¿
    for (int i = 0; i < G.n; i++ )//Ñ­»·n-1´Î, ¼ÓÈën-1Ìõ±ß
        if ( i != u ){
          EdgeData minv = MaxValue;  int v = 0;//v¼ÇÂ¼µ±Ç°È¨Öµ×îÐ¡µÄ½áµã
        for ( int j = 0; j < G.n; j++ )
              if ( nearvex[j] != -1 && lowcost[j] < minv )    // =-1²»²ÎÑ¡
              { v = j;  minv = lowcost[j]; }
         //ÇóÉú³ÉÊ÷,Íâ¶¥µãµ½Éú³ÉÊ÷ÄÚ¶¥µã¾ßÓÐ×îÐ¡È¨ÖµµÄ±ß, vÊÇµ±Ç°¾ß×îÐ¡È¨ÖµµÄ±ß
        if ( v ) {     //v=0±íÊ¾ÔÙÒ²ÕÒ²»µ½ÒªÇó¶¥µã
           T[k].tail = nearvex[v]; //Ñ¡±ß¼ÓÈëÉú³ÉÊ÷
           T[k].head = v;
           T[k++].cost = lowcost[v];
           nearvex[v] = -1;  //¸Ã±ß¼ÓÈëÉú³ÉÊ÷±ê¼Ç
           //¼ÓÈë×îÐ¡È¨ÖµµãvÖ®ºó°¤¸ö¸üÐÂÃ¿¸ö½áµãÖÐÓëvÏàÁÚ½áµãµÄ×îÐ¡È¨ÖµºÍÁÙ½üµã
           for ( int j = 0; j < G.n; j++ )
              if ( nearvex[j] != -1 &&G.Edge[v][j] < lowcost[j] ) {
                 lowcost[j] = G.Edge[v][j];     //ÐÞ¸Ä
                 nearvex[j] = v;
              }
        }
    }//Ñ­»·n-1´Î, ¼ÓÈën-1Ìõ±ß
}

void display_prim(MTGraph G,MST T[]){
    printf("\nThe result of prim is:\n");
    for(int i=0;i<G.n-1;i++){
        printf("(%d,%d,%d)\n",T[i].tail,T[i].head,T[i].cost);
    }
}

int main(){
    MTGraph G;
    MST T[NumVertices];
    Creat_tree(G);
    display(G);
    Prim(G,T,0);
    display_prim(G,T);
}
/*----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test parameters:
6 10
1 2 3 4 5 6
0 1 20
0 4 10
3 4 18
1 3 6
0 5 9
4 5 10
3 5 14
1 5 11
1 2 5
2 3 6

----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*/


